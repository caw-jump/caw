<!DOCTYPE html>
<html lang="en" data-palette="<%= palette || 'emerald' %>">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="theme-color" content="#050505"/>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
  <title><%= title === siteName ? title : title + ' | ' + siteName %></title>
  <meta name="description" content="<%= description || 'Stop hiring freelancers. Start building an empire.' %>"/>
  <link rel="canonical" href="<%= siteUrl %><%= currentPath === '/' ? '' : currentPath %>"/>
  <style>
    /* ── Reset & base ────────────────────────────────────────── */
    :root{
      --bg-deep:#0B0B0F;
      --neon-green:#00FF94;
      --neon-blue:#00B8FF;
      --neon-pink:#FF00FF;
      --accent:#E8C677;
      --text-muted:rgba(255,255,255,0.70);
      --border-subtle:rgba(255,255,255,0.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html{background:var(--bg-deep);color:#fff;scroll-behavior:smooth}
    body{font-family:'Inter',system-ui,-apple-system,sans-serif;line-height:1.7;min-height:100vh;background:var(--bg-deep)}
    a{color:inherit;text-decoration:none}
    a:hover{opacity:.85}
    ul{list-style:none}
    img{max-width:100%;display:block}
    input,select,textarea,button{font:inherit}

    /* ── Layout helpers ──────────────────────────────────────── */
    .container{max-width:1400px;margin:0 auto;padding:0 1.5rem}
    .flex{display:flex}
    .grid{display:grid}
    .min-h-screen{min-height:100vh}
    .items-center{align-items:center}
    .justify-center{justify-content:center}
    .text-center{text-align:center}
    .gap-6{gap:1.5rem}
    .gap-8{gap:2rem}
    .gap-12{gap:3rem}
    .mb-4{margin-bottom:1rem}
    .mb-6{margin-bottom:1.5rem}
    .mb-8{margin-bottom:2rem}
    .mb-12{margin-bottom:3rem}
    .mt-8{margin-top:2rem}
    .pt-20{padding-top:5rem}
    .pt-24{padding-top:6rem}
    .py-24{padding-top:6rem;padding-bottom:6rem}
    .p-6{padding:1.5rem}
    .p-8{padding:2rem}

    /* ── Typography ──────────────────────────────────────────── */
    .font-mono{font-family:ui-monospace,'Fira Code',monospace}
    .font-bold{font-weight:700}
    .font-black{font-weight:900}
    .text-sm{font-size:.875rem}
    .text-lg{font-size:1.125rem}
    .text-xl{font-size:1.25rem}
    .text-2xl{font-size:1.5rem}
    .text-3xl{font-size:1.875rem}
    .text-5xl{font-size:3rem}
    .text-neon{color:var(--neon-green)}
    .uppercase{text-transform:uppercase}
    .tracking-widest{letter-spacing:.15em}

    /* ── Shapes ──────────────────────────────────────────────── */
    .rounded-lg{border-radius:.5rem}
    .rounded-xl{border-radius:.75rem}
    .rounded-2xl{border-radius:1rem}

    /* ── Colors ──────────────────────────────────────────────── */
    .text-white{color:#fff}
    .text-white\/70{color:var(--text-muted)}
    .text-white\/60{color:rgba(255,255,255,.60)}
    .text-white\/50{color:rgba(255,255,255,.50)}
    .bg-black\/50{background:rgba(0,0,0,.50)}
    .border-white\/10{border-color:rgba(255,255,255,.10)}

    /* ── Spacing utils for blocks ────────────────────────────── */
    .space-y-4>*+*{margin-top:1rem}
    .space-y-6>*+*{margin-top:1.5rem}

    /* ── Responsive grid ─────────────────────────────────────── */
    @media(min-width:768px){
      .md\:text-2xl{font-size:1.5rem}
      .md\:text-3xl{font-size:1.875rem}
      .md\:text-5xl{font-size:3rem}
      .md\:text-7xl{font-size:4.5rem}
      .md\:grid-cols-2{grid-template-columns:repeat(2,1fr)}
      .md\:grid-cols-3{grid-template-columns:repeat(3,1fr)}
    }
    @media(min-width:1024px){
      .lg\:flex{display:flex}
      .lg\:grid-cols-2{grid-template-columns:repeat(2,1fr)}
      .lg\:grid-cols-3{grid-template-columns:repeat(3,1fr)}
      .lg\:hidden{display:none}
    }
    @media(max-width:1023px){
      .hidden.lg\:flex,.hidden.lg\:block{display:none}
    }

    /* ── Prose ───────────────────────────────────────────────── */
    .prose p{margin-bottom:1rem;color:var(--text-muted)}
    .prose p strong,.prose strong{color:#fff}
    .prose a,.prose .text-neon{color:var(--neon-green);text-decoration:underline}
    .prose h3{color:#fff;font-size:1.125rem;font-weight:700;margin-top:1.5rem;margin-bottom:.5rem}
    .prose code{color:var(--neon-green);font-family:ui-monospace,monospace;font-size:.875rem}
    .prose-invert p{color:var(--text-muted)}

    /* ── Nav ─────────────────────────────────────────────────── */
    nav#navbar{
      position:fixed;top:0;left:0;right:0;z-index:100;
      padding:.875rem 0;
      background:linear-gradient(to bottom,rgba(26,26,26,.98),rgba(0,0,0,.97));
      border-bottom:1px solid var(--border-subtle);
      backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);
    }

    /* ── Mobile drawer ───────────────────────────────────────── */
    #mobile-drawer{
      position:fixed;inset:0;z-index:200;
      background:#0B0B0F;
      transform:translateX(100%);
      transition:transform .3s cubic-bezier(.4,0,.2,1);
      overflow-y:auto;
      padding:5.5rem 2rem 3rem;
    }
    #mobile-drawer.open{transform:translateX(0)}
    #mobile-drawer .drawer-section{margin-bottom:2rem}
    #mobile-drawer .drawer-label{
      font-size:.7rem;font-family:ui-monospace,monospace;
      text-transform:uppercase;letter-spacing:.12em;
      color:var(--neon-green);opacity:.7;
      margin-bottom:.75rem;display:block;
    }
    #mobile-drawer a{
      display:block;padding:.6rem 0;
      font-size:1.05rem;font-weight:500;
      color:rgba(255,255,255,.85);
      border-bottom:1px solid rgba(255,255,255,.05);
      min-height:44px;display:flex;align-items:center;
    }
    #mobile-drawer a:hover{color:#fff}
    #mobile-drawer .drawer-cta{
      display:flex;align-items:center;justify-content:center;
      margin-top:2rem;padding:1rem;
      background:var(--neon-green);color:#050505;
      font-weight:700;font-size:.95rem;text-transform:uppercase;
      border-radius:.5rem;min-height:48px;border:none;width:100%;
      text-decoration:none;letter-spacing:.05em;
    }
    #mobile-drawer .drawer-cta:hover{background:#00e080}
    /* Close button inside drawer */
    #mobile-drawer-close{
      position:absolute;top:1.25rem;right:1.5rem;
      width:44px;height:44px;
      background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);
      border-radius:.375rem;color:#fff;font-size:1.25rem;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;line-height:1;
    }

    /* ── Hamburger button ────────────────────────────────────── */
    #mobile-menu-btn{
      display:flex;flex-direction:column;justify-content:center;align-items:center;gap:5px;
      width:44px;height:44px;
      background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);
      border-radius:.375rem;cursor:pointer;padding:0;
    }
    #mobile-menu-btn span{width:20px;height:2px;background:#fff;display:block;transition:transform .2s,opacity .2s}
    @media(min-width:1024px){#mobile-menu-btn{display:none}}

    /* ── Desktop nav dropdown ────────────────────────────────── */
    .nav-dropdown{position:relative}
    .nav-dropdown>button{
      background:none;border:none;color:rgba(255,255,255,.9);
      font-size:.875rem;font-weight:500;cursor:pointer;
      display:flex;align-items:center;gap:.3rem;padding:.25rem 0;
      min-height:44px;
    }
    .nav-dropdown>button::after{content:'▾';font-size:.65rem;opacity:.7}
    .nav-dropdown-menu{
      display:none;position:absolute;top:calc(100% + .5rem);left:50%;
      transform:translateX(-50%);
      min-width:220px;
      background:#1a1a1a;border:1px solid rgba(255,255,255,.1);
      border-radius:.5rem;padding:.5rem 0;z-index:300;
      box-shadow:0 16px 48px rgba(0,0,0,.6);
    }
    .nav-dropdown:hover .nav-dropdown-menu,
    .nav-dropdown:focus-within .nav-dropdown-menu{display:block}
    .nav-dropdown-menu a{
      display:block;padding:.55rem 1rem;
      font-size:.83rem;color:rgba(255,255,255,.8);
      min-height:36px;
    }
    .nav-dropdown-menu a:hover{color:#fff;background:rgba(255,255,255,.05)}

    /* ── Forms & Inputs ──────────────────────────────────────── */
    .form-label{
      display:block;
      font-family:ui-monospace,monospace;font-size:.72rem;
      text-transform:uppercase;letter-spacing:.08em;
      color:var(--neon-green);margin-bottom:.4rem;
    }
    .form-input,
    input[type="text"].form-ctrl,
    input[type="email"].form-ctrl,
    select.form-ctrl,
    textarea.form-ctrl{
      width:100%;
      background:#111;
      border:1px solid rgba(255,255,255,.18);
      color:#fff;
      padding:.65rem .9rem;
      font-size:.9rem;
      border-radius:.25rem;
      transition:border-color .2s;
      -webkit-appearance:none;appearance:none;
    }
    .form-input:focus,.form-ctrl:focus{
      outline:none;
      border-color:var(--neon-green);
      box-shadow:0 0 0 2px rgba(0,255,148,.15);
    }
    select.form-ctrl{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23aaa' fill='none' stroke-width='1.5'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .8rem center;padding-right:2.2rem}
    textarea.form-ctrl{resize:vertical;min-height:90px}
    /* Audit form block wrapper */
    .audit-form-block input,
    .audit-form-block select,
    .audit-form-block textarea{
      width:100%;
      background:#111;
      border:1px solid rgba(255,255,255,.18);
      color:#fff;
      padding:.65rem .9rem;
      font-size:.9rem;
      border-radius:.25rem;
      -webkit-appearance:none;appearance:none;
    }
    .audit-form-block input:focus,
    .audit-form-block select:focus,
    .audit-form-block textarea:focus{
      outline:none;border-color:var(--neon-green);
      box-shadow:0 0 0 2px rgba(0,255,148,.15);
    }
    .audit-form-block label{
      display:block;
      font-family:ui-monospace,monospace;font-size:.72rem;
      text-transform:uppercase;letter-spacing:.08em;
      color:var(--neon-green);margin-bottom:.4rem;
    }
    .audit-form-block select{
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23aaa' fill='none' stroke-width='1.5'/%3E%3C/svg%3E");
      background-repeat:no-repeat;background-position:right .8rem center;padding-right:2.2rem;
    }

    /* ── Buttons ─────────────────────────────────────────────── */
    .btn-primary{
      display:inline-flex;align-items:center;justify-content:center;
      padding:.85rem 2.25rem;min-height:48px;
      background:var(--neon-green);color:#050505;
      font-weight:700;font-size:.95rem;text-transform:uppercase;letter-spacing:.05em;
      border-radius:.5rem;border:none;cursor:pointer;
      transition:background .2s,transform .15s;text-decoration:none;
    }
    .btn-primary:hover{background:#00e080;transform:translateY(-1px)}
    .btn-primary:active{transform:translateY(0)}
    .btn-outline{
      display:inline-flex;align-items:center;justify-content:center;
      padding:.85rem 2.25rem;min-height:48px;
      background:transparent;color:#fff;
      font-weight:700;font-size:.95rem;text-transform:uppercase;letter-spacing:.05em;
      border-radius:.5rem;border:1px solid rgba(255,255,255,.25);cursor:pointer;
      transition:border-color .2s,background .2s;text-decoration:none;
    }
    .btn-outline:hover{border-color:rgba(255,255,255,.6);background:rgba(255,255,255,.04)}

    /* ── Footer ──────────────────────────────────────────────── */
    footer{border-top:1px solid var(--border-subtle);background:#050505;padding:3rem 0 1.5rem}

    /* ── Scroll snap helpers ──────────────────────────────────── */
    .hidden{display:none}
    @media(min-width:640px){.sm\:inline{display:inline}}
    @media(min-width:768px){.hidden.md\:block{display:block}}
  </style>
</head>
<body>
  <%- include('nav', { nav, siteName, currentPath }) %>
  <main class="pt-20" style="position:relative;z-index:10">
    <%- body %>
  </main>
  <%- include('footer', { footer, siteName }) %>
  <script>
    (function(){
      var btn = document.getElementById('mobile-menu-btn');
      var drawer = document.getElementById('mobile-drawer');
      var closeBtn = document.getElementById('mobile-drawer-close');
      var html = document.documentElement;

      function openDrawer(){
        drawer.classList.add('open');
        drawer.removeAttribute('inert');
        btn.setAttribute('aria-expanded','true');
        html.style.overflow = 'hidden';
      }
      function closeDrawer(){
        drawer.classList.remove('open');
        drawer.setAttribute('inert','');
        btn.setAttribute('aria-expanded','false');
        html.style.overflow = '';
        btn.focus();
      }

      if(btn && drawer){
        btn.addEventListener('click', function(){
          drawer.classList.contains('open') ? closeDrawer() : openDrawer();
        });
      }
      if(closeBtn) closeBtn.addEventListener('click', closeDrawer);

      // Close on backdrop click (link navigation closes drawer)
      drawer && drawer.querySelectorAll('a').forEach(function(a){
        a.addEventListener('click', closeDrawer);
      });

      // Close on Escape
      document.addEventListener('keydown', function(e){
        if(e.key === 'Escape' && drawer && drawer.classList.contains('open')) closeDrawer();
      });
    })();
  </script>
</body>
</html>
